#!/bin/zsh

function @ {
    echo "$@"
    $@
}

alias ALL=
alias LINUX=true
alias HOME=true
alias MAC=true
alias WORK=true
alias DESKTOP=true
alias SERVER=true

if [[ ! -f self ]]; then
    if [[ $(uname) == "Darwin" ]]; then
        DPLATFORM=MAC
        DPLACE=HOME
        DTYPE=DESKTOP
    else
        DPLATFORM=LINUX
        DPLACE=HOME
        DTYPE=SERVER
    fi
    echo -n "platform [$DPLATFORM]: "
    read PLATFORM
    echo ${PLATFORM:-$DPLATFORM} >> self
    echo -n "place [$DPLACE]: "
    read PLACE
    echo ${PLACE:-$DPLACE} >> self
    echo -n "type [$DTYPE]: "
    read TYPE
    echo ${TYPE:-$DTYPE} >> self
fi
cat self | while read LINE; do
    alias $LINE=
done

setopt ERR_EXIT
export ZSH=$(dirname $0)
for config_file ($ZSH/**/*.install) source $config_file
